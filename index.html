<!DOCTYPE html>
<html>
<head>
	<script id="shader-vs" type="x-shader/x-vertex">
		attribute vec3 a_Position;
		attribute vec3 a_Direction;
		attribute float a_Time;
		attribute float a_Seed;

		uniform float u_CurrentTime;
		uniform float u_Lifetime;

		varying mediump float v_period;
		void main()
		{
			float period = (u_CurrentTime - a_Time) / u_Lifetime;
			v_period = period;
			gl_Position = vec4(a_Position + a_Direction * period * 3.0, 1.0);
			gl_PointSize = 40.0 * a_Seed;
		}
	</script>
	<script id="shader-fs" type="x-shader/x-fragment">
		varying mediump float v_period;
		void main(void)
		{
		    gl_FragColor = vec4(1.0-v_period, 0.0, 0.0, 1.0);
		}
	</script>
	<script type="text/javascript" src="js/webgl-debug.js"></script>
	<script type="text/javascript" src="js/sylvester.js"></script>
	<script type="text/javascript" src="js/glstuff.js"></script>
	<script type="text/javascript" src="js/Stats.js"></script>
	<script type="text/javascript" src="js/particle_system.js"></script>
	<link rel="stylesheet" type="text/css" href="css/default.css">
	<title>WEBGL</title>
</head>
<body>
	<canvas width="800" height="600" id="cnvs"></canvas>
</body>
</html>